<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mindboggle &mdash; Mindboggle</title>
    
    <link rel="stylesheet" href="../../_static/mindboggle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Mindboggle" href="../../index.html" />
  <HTML><head><title>arno klein's Mindboggle</title>
  <meta http-equiv="Content-language" content="en">
  <meta name="description" content="Mindboggle">
  <meta name="keywords" content="Mindboggle, neuroimaging, brain imaging, python, neuroscience, labeling, parcellation, morphometry, shape analysis, MRI">
  <meta name="author" content="mailto:arno&#64;binarybottle.com">
  <meta name="dc.title" content="Mindboggle"> 
  <meta name="dc.creator.address" content="arno&#64;binarybottle.com">
  <meta name="dc.subject" content="Mindboggle">
  <meta name="dc.type" content="text.homepage.academic"> 
  <meta name="dc.format" content="text/html"> 
  <meta name="dc.identifier" content="http://mindboggle.info/index.html">

<!-- XTK>
<script type="text/javascript" src="http://mindboggle.info/xtk/xtk.js"></script>
<script type="text/javascript" src="http://mindboggle.info/xtk/xtk_xdat.gui.js"></script>
<!--script type="text/javascript" src="http://mindboggle.info/xtk/code.js"></script-->
<!--script type="text/javascript" src="http://mindboggle.info/xtk/code_single_panel.js"></script-->
<!--link rel="stylesheet" type="text/css" href="http://mindboggle.info/xtk/style.css"-->


  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
 <table>
  <tr>
   <td>

 <a href="../../index.html">
  <img src="../../_static/mindboggle_logo_small.jpg" alt="small mindboggle logo"  border="0" width="160"/></a>

   </td>
   <td>
    <table>
     <tr>
 <a style="padding: 20px 20px 20px 20px; color: #b07613; text-decoration: none; font-size: 32px"
  href="../../index.html">Mindboggle</a>
     </tr>
     <tr> <td height="18"></td>
     </tr>
     <tr>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="http://mindboggle.info/users/README.html">Software</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../data.html">Data</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../papers.html">Papers</a>
      </td>
      <td>
  <a style="padding: 20px 20px 20px 20px; text-decoration: none; font-size: 18px"
   href="../../people.html">People</a>
      </td>
     </tr>
    </table>
   </td>
  </tr>
 </table>
</div>
  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="utils-compute">
<h1>utils.compute<a class="headerlink" href="#utils-compute" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-mindboggle.utils.compute">
<span id="module-utils-compute"></span><h2>Module: <tt class="xref py py-mod docutils literal"><span class="pre">utils.compute</span></tt><a class="headerlink" href="#module-mindboggle.utils.compute" title="Permalink to this headline">¶</a></h2>
<p>Compute functions.</p>
<dl class="docutils">
<dt>Authors:</dt>
<dd><ul class="first last simple">
<li>Arno Klein, 2012-2014  (<a class="reference external" href="mailto:arno&#37;&#52;&#48;mindboggle&#46;info">arno<span>&#64;</span>mindboggle<span>&#46;</span>info</a>)  <a class="reference external" href="http://binarybottle.com">http://binarybottle.com</a></li>
</ul>
</dd>
</dl>
<p>Copyright 2013,  Mindboggle team (<a class="reference external" href="http://mindboggle.info">http://mindboggle.info</a>), Apache v2.0 License</p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="mindboggle.utils.compute.compute_image_histogram">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">compute_image_histogram</tt><big>(</big><em>infile</em>, <em>nbins=100</em>, <em>threshold=0.0</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.compute_image_histogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute histogram values from nibabel-readable image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>infile</strong> : string</p>
<blockquote>
<div><p>input nibabel-readable image file name</p>
</div></blockquote>
<p><strong>nbins</strong> : integer</p>
<blockquote>
<div><p>number of bins</p>
</div></blockquote>
<p><strong>threshold</strong> : float</p>
<blockquote>
<div><p>remove values lower than threshold</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>histogram_values</strong> : numpy array</p>
<blockquote class="last">
<div><p>histogram bin values</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">compute_image_histogram</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">infile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;mri&#39;</span><span class="p">,</span> <span class="s">&#39;t1weighted.nii.gz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">compute_image_histogram</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">nbins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.means_per_label">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">means_per_label</tt><big>(</big><em>values</em>, <em>labels</em>, <em>include_labels=[]</em>, <em>exclude_labels=[]</em>, <em>areas=[]</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.means_per_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the mean value across vertices per label,
optionally taking into account surface area per vertex (UNTESTED).</p>
<p>Formula:
average value = sum(a_i * v_i) / total_surface_area,
where <em>a_i</em> and <em>v_i</em> are the area and value for each vertex <em>i</em>.</p>
<dl class="docutils">
<dt>Note ::</dt>
<dd><dl class="first last docutils">
<dt>This function is different than stats_per_label() in two ways:</dt>
<dd><ol class="first last arabic simple">
<li>It only computes the (weighted) mean and sdev.</li>
<li>It can accept 2-D arrays (such as [x,y,z] coordinates).</li>
</ol>
</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>values</strong> : numpy array of one or more lists of integers or floats</p>
<blockquote>
<div><p>values to average per label</p>
</div></blockquote>
<p><strong>labels</strong> : list or array of integers</p>
<blockquote>
<div><p>label for each value</p>
</div></blockquote>
<p><strong>include_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to include</p>
</div></blockquote>
<p><strong>exclude_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to be excluded</p>
</div></blockquote>
<p><strong>areas</strong> : numpy array of floats</p>
<blockquote>
<div><p>surface areas (if provided, used to normalize means and sdevs)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>means</strong> : list of floats</p>
<blockquote>
<div><p>mean(s) for each label</p>
</div></blockquote>
<p><strong>sdevs</strong> : list of floats</p>
<blockquote>
<div><p>standard deviation(s) for each label</p>
</div></blockquote>
<p><strong>label_list</strong> : list of integers</p>
<blockquote>
<div><p>unique label numbers</p>
</div></blockquote>
<p><strong>label_areas</strong> : list of floats (if normalize_by_area)</p>
<blockquote class="last">
<div><p>surface area for each labeled set of vertices</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.io_vtk</span> <span class="kn">import</span> <span class="n">read_scalars</span><span class="p">,</span> <span class="n">read_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">means_per_label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">area_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.area.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;labels&#39;</span><span class="p">,</span> <span class="s">&#39;lh.labels.DKT25.manual.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">values_file</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#areas, name = read_scalars(area_file, True, True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">labels_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_labels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">areas</span> <span class="o">=</span> <span class="p">[]</span> <span class="c">#areas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Example 1: compute mean curvature per label:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">means</span><span class="p">,</span> <span class="n">sdevs</span><span class="p">,</span> <span class="n">label_list</span><span class="p">,</span> <span class="n">label_areas</span> <span class="o">=</span> <span class="n">means_per_label</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">include_labels</span><span class="p">,</span> <span class="n">exclude_labels</span><span class="p">,</span> <span class="n">areas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c">#</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Example 2: compute mean coordinates per label:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">faces</span><span class="p">,</span> <span class="n">lines</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">npoints</span><span class="p">,</span> <span class="n">curvs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">input_vtk</span> <span class="o">=</span> <span class="n">read_vtk</span><span class="p">(</span><span class="n">values_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">means</span><span class="p">,</span> <span class="n">sdevs</span><span class="p">,</span> <span class="n">label_list</span><span class="p">,</span> <span class="n">label_areas</span> <span class="o">=</span> <span class="n">means_per_label</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">include_labels</span><span class="p">,</span> <span class="n">exclude_labels</span><span class="p">,</span> <span class="n">areas</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.median_abs_dev">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">median_abs_dev</tt><big>(</big><em>X</em>, <em>W=[]</em>, <em>precision=1</em>, <em>c=1.0</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.median_abs_dev" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the (weighted) median absolute deviation.</p>
<p>mad = median(abs(x - median(x))) / c</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : numpy array of floats or integers</p>
<blockquote>
<div><p>values</p>
</div></blockquote>
<p><strong>W</strong> : numpy array of floats or integers</p>
<blockquote>
<div><p>weights</p>
</div></blockquote>
<p><strong>precision</strong> : integer</p>
<blockquote>
<div><p>number of decimal places to consider weights</p>
</div></blockquote>
<p><strong>c</strong> : float</p>
<blockquote>
<div><p>constant used as divisor for mad computation;
c = 0.6745 is used to convert from mad to standard deviation</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>mad</strong> : float</p>
<blockquote class="last">
<div><p>(weighted) median absolute deviation</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">median_abs_dev</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">W</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="o">.</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># [1, 2, 4, 4, 4, 7, 7, 8, 8, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">median_abs_dev</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
<span class="go">    2.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.pairwise_vector_distances">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">pairwise_vector_distances</tt><big>(</big><em>vectors</em>, <em>save_file=False</em>, <em>normalize=False</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.pairwise_vector_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare every pair of equal-sized vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vectors</strong> : array of 1-D lists or arrays of integers or floats</p>
<p><strong>save_file</strong> : Boolean</p>
<blockquote>
<div><p>save file?</p>
</div></blockquote>
<p><strong>normalize</strong> : Boolean</p>
<blockquote>
<div><p>normalize each element of the vectors?</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>vector_distances</strong> : numpy array of integers or floats</p>
<blockquote>
<div><p>distances between each pair of vectors</p>
</div></blockquote>
<p><strong>outfile</strong> : string [optional]</p>
<blockquote class="last">
<div><p>output filename for pairwise_vector_distances</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">pairwise_vector_distances</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pairwise_vector_distances</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="mi">5</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="go">    (array([[ 0.        ,  0.81649658,  0.89752747,  0.74535599],</span>
<span class="go">           [ 0.        ,  0.        ,  0.16666667,  1.52752523],</span>
<span class="go">           [ 0.        ,  0.        ,  0.        ,  1.60727513],</span>
<span class="go">           [ 0.        ,  0.        ,  0.        ,  0.        ]]),</span>
<span class="go">     &#39;&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.point_distance">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">point_distance</tt><big>(</big><em>point</em>, <em>points</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.point_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Euclidean distance from one point to a second (set) of points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>point</strong> : list of three floats</p>
<blockquote>
<div><p>coordinates for a single point</p>
</div></blockquote>
<p><strong>points</strong> : list with one or more lists of three floats</p>
<blockquote>
<div><p>coordinates for a second point (or multiple points)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>min_distance</strong> : float</p>
<blockquote>
<div><p>Euclidean distance between two points,
or the minimum distance between a point and a set of points</p>
</div></blockquote>
<p><strong>min_index</strong> : int</p>
<blockquote class="last">
<div><p>index of closest of the points (zero if only one)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Future plan is to use scipy.spatial.distance.cdist to compute distances
scipy.spatial.distance.cdist is available in scipy v0.12 or later</p>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">point_distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point_distance</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">points</span><span class="p">)</span>
<span class="go">  (1.5, 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.source_to_target_distances">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">source_to_target_distances</tt><big>(</big><em>sourceIDs, targetIDs, points, segmentIDs=[], excludeIDs=[-1]</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.source_to_target_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Euclidean distance matrix between source and target points.</p>
<p>Compute the Euclidean distance from each source point to
its nearest target point, optionally within each segment.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>Compute fundus-to-feature distances, the minimum distance
from each label boundary vertex (corresponding to a fundus
in the DKT cortical labeling protocol) to all of the
feature vertices in the same fold.
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sourceIDs</strong> : list of N integers (N is the number of vertices)</p>
<blockquote>
<div><p>source IDs, where any ID not in excludeIDs is a source point</p>
</div></blockquote>
<p><strong>targetIDs</strong> : list of N integers (N is the number of vertices)</p>
<blockquote>
<div><p>target IDs, where any ID not in excludeIDs is a target point</p>
</div></blockquote>
<p><strong>points</strong> : list of N lists of three floats (N is the number of vertices)</p>
<blockquote>
<div><p>coordinates of all vertices</p>
</div></blockquote>
<p><strong>segmentIDs</strong> : list of N integers (N is the number of vertices)</p>
<blockquote>
<div><p>segment IDs, where each ID not in excludeIDs is considered a
different segment (unlike above, where value in sourceIDs or
targetIDs doesn&#8217;t matter, so long as its not in excludeIDs);
source/target distances are computed within each segment</p>
</div></blockquote>
<p><strong>excludeIDs</strong> : list of integers</p>
<blockquote>
<div><p>IDs to exclude</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>distances</strong> : numpy array</p>
<blockquote>
<div><p>distance value for each vertex (default -1)</p>
</div></blockquote>
<p><strong>distance_matrix</strong> : numpy array [#points by maximum segment ID + 1]</p>
<blockquote class="last">
<div><p>distances organized by segments (columns)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.stats_per_label">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">stats_per_label</tt><big>(</big><em>values</em>, <em>labels</em>, <em>include_labels=[]</em>, <em>exclude_labels=[]</em>, <em>weights=[]</em>, <em>precision=1</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.stats_per_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute various statistical measures across vertices per label,
optionally using weights (such as surface area per vertex).</p>
<p>Example (area-weighted mean):
average value = sum(a_i * v_i) / total_surface_area,
where <em>a_i</em> and <em>v_i</em> are the area and value for each vertex <em>i</em>.</p>
<dl class="docutils">
<dt>Note ::</dt>
<dd><dl class="first last docutils">
<dt>This function is different than means_per_label() in two ways:</dt>
<dd><ol class="first last arabic simple">
<li>It computes more than simply the (weighted) mean and sdev.</li>
<li>It only accepts 1-D arrays of values.</li>
</ol>
</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>values</strong> : numpy array of individual or lists of integers or floats</p>
<blockquote>
<div><p>values for all vertices</p>
</div></blockquote>
<p><strong>labels</strong> : list or array of integers</p>
<blockquote>
<div><p>label for each value</p>
</div></blockquote>
<p><strong>include_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to include</p>
</div></blockquote>
<p><strong>exclude_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to be excluded</p>
</div></blockquote>
<p><strong>weights</strong> : numpy array of floats</p>
<blockquote>
<div><p>weights to compute weighted statistical measures</p>
</div></blockquote>
<p><strong>precision</strong> : integer</p>
<blockquote>
<div><p>number of decimal places to consider weights</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>medians</strong> : list of floats</p>
<blockquote>
<div><p>median for each label</p>
</div></blockquote>
<p><strong>mads</strong> : list of floats</p>
<blockquote>
<div><p>median absolute deviation for each label</p>
</div></blockquote>
<p><strong>means</strong> : list of floats</p>
<blockquote>
<div><p>mean for each label</p>
</div></blockquote>
<p><strong>sdevs</strong> : list of floats</p>
<blockquote>
<div><p>standard deviation for each label</p>
</div></blockquote>
<p><strong>skews</strong> : list of floats</p>
<blockquote>
<div><p>skew for each label</p>
</div></blockquote>
<p><strong>kurts</strong> : list of floats</p>
<blockquote>
<div><p>kurtosis value for each label</p>
</div></blockquote>
<p><strong>lower_quarts</strong> : list of floats</p>
<blockquote>
<div><p>lower quartile for each label</p>
</div></blockquote>
<p><strong>upper_quarts</strong> : list of floats</p>
<blockquote>
<div><p>upper quartile for each label</p>
</div></blockquote>
<p><strong>label_list</strong> : list of integers</p>
<blockquote class="last">
<div><p>list of unique labels</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.io_vtk</span> <span class="kn">import</span> <span class="n">read_scalars</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">stats_per_label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.mean_curvature.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">area_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.area.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;labels&#39;</span><span class="p">,</span> <span class="s">&#39;lh.labels.DKT25.manual.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">values_file</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">areas</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">area_file</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">labels_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_labels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weights</span> <span class="o">=</span> <span class="n">areas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats_per_label</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">include_labels</span><span class="p">,</span> <span class="n">exclude_labels</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.sum_per_label">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">sum_per_label</tt><big>(</big><em>values</em>, <em>labels</em>, <em>include_labels=[]</em>, <em>exclude_labels=[]</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.sum_per_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the sum value across vertices per label.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>values</strong> : numpy array of one or more lists of integers or floats</p>
<blockquote>
<div><p>values to average per label</p>
</div></blockquote>
<p><strong>labels</strong> : list or array of integers</p>
<blockquote>
<div><p>label for each value</p>
</div></blockquote>
<p><strong>include_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to include</p>
</div></blockquote>
<p><strong>exclude_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to be excluded</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>sums</strong> : list of floats</p>
<blockquote>
<div><p>sum for each label</p>
</div></blockquote>
<p><strong>label_list</strong> : list of integers</p>
<blockquote class="last">
<div><p>unique label numbers</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.io_vtk</span> <span class="kn">import</span> <span class="n">read_scalars</span><span class="p">,</span> <span class="n">read_vtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">sum_per_label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;MINDBOGGLE_DATA&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;shapes&#39;</span><span class="p">,</span> <span class="s">&#39;lh.pial.area.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="s">&#39;arno&#39;</span><span class="p">,</span> <span class="s">&#39;labels&#39;</span><span class="p">,</span> <span class="s">&#39;lh.labels.DKT25.manual.vtk&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">values_file</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">read_scalars</span><span class="p">(</span><span class="n">labels_file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_labels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Compute sum area per label:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sums</span><span class="p">,</span> <span class="n">label_list</span> <span class="o">=</span> <span class="n">sum_per_label</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">include_labels</span><span class="p">,</span> <span class="n">exclude_labels</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.vector_distance">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">vector_distance</tt><big>(</big><em>vector1</em>, <em>vector2</em>, <em>normalize=False</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.vector_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the Euclidean distance between two equal-sized vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>vector1</strong> : numpy array of floats</p>
<blockquote>
<div><p>vector of values</p>
</div></blockquote>
<p><strong>vector2</strong> : numpy array of floats</p>
<blockquote>
<div><p>vector of values</p>
</div></blockquote>
<p><strong>normalize</strong> : Boolean</p>
<blockquote>
<div><p>normalize each element of the vectors?</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>distance</strong> : float</p>
<blockquote class="last">
<div><p>Euclidean distance between two vectors</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">vector_distance</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">,</span><span class="mf">3.</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vector_distance</span><span class="p">(</span><span class="n">vector1</span><span class="p">,</span> <span class="n">vector2</span><span class="p">)</span>
<span class="go">  0.81649658092772592</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.volume_per_label">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">volume_per_label</tt><big>(</big><em>input_file</em>, <em>include_labels=[]</em>, <em>exclude_labels=[]</em>, <em>label_names=[]</em>, <em>save_table=False</em>, <em>output_table=''</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.volume_per_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute volume per labeled region in a nibabel-readable image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>input_file</strong> : string</p>
<blockquote>
<div><p>name of image file, consisting of index-labeled pixels/voxels</p>
</div></blockquote>
<p><strong>include_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to include
(if empty, use unique numbers in image volume file)</p>
</div></blockquote>
<p><strong>exclude_labels</strong> : list of integers</p>
<blockquote>
<div><p>labels to be excluded</p>
</div></blockquote>
<p><strong>label_names</strong> : list of strings</p>
<blockquote>
<div><p>label names corresponding to labels to include</p>
</div></blockquote>
<p><strong>save_table</strong> : Boolean</p>
<blockquote>
<div><p>save output table file with labels and volume values?</p>
</div></blockquote>
<p><strong>output_table</strong> : string</p>
<blockquote>
<div><p>name of output table file with labels and volume values</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>labels_volumes</strong> : list of integer list and float list</p>
<blockquote>
<div><p>label numbers and volume for each labeled region (default -1)</p>
</div></blockquote>
<p><strong>output_table</strong> : string</p>
<blockquote class="last">
<div><p>name of output volume table file (if output_table not empty)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.LABELS</span> <span class="kn">import</span> <span class="n">DKTprotocol</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">volume_per_label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;HOME&#39;</span><span class="p">],</span> <span class="s">&#39;mindboggled&#39;</span><span class="p">,</span> <span class="s">&#39;OASIS-TRT-20-1&#39;</span><span class="p">,</span> <span class="s">&#39;labels&#39;</span><span class="p">,</span> <span class="s">&#39;ANTs_filled_labels.nii.gz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dkt</span> <span class="o">=</span> <span class="n">DKTprotocol</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">include_labels</span> <span class="o">=</span> <span class="n">dkt</span><span class="o">.</span><span class="n">label_numbers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exclude_labels</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_names</span> <span class="o">=</span> <span class="n">dkt</span><span class="o">.</span><span class="n">label_names</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_table</span> <span class="o">=</span> <span class="bp">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output_table</span> <span class="o">=</span> <span class="s">&#39;volumes.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels_volumes</span><span class="p">,</span> <span class="n">output_table</span> <span class="o">=</span> <span class="n">volume_per_label</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="n">include_labels</span><span class="p">,</span> <span class="n">exclude_labels</span><span class="p">,</span> <span class="n">label_names</span><span class="p">,</span> <span class="n">save_table</span><span class="p">,</span> <span class="n">output_table</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">labels_volumes</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.weighted_median">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">weighted_median</tt><big>(</big><em>X</em>, <em>W=[]</em>, <em>precision=1</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.weighted_median" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a weighted median.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : numpy array of floats or integers</p>
<blockquote>
<div><p>values</p>
</div></blockquote>
<p><strong>W</strong> : numpy array of floats or integers</p>
<blockquote>
<div><p>weights</p>
</div></blockquote>
<p><strong>precision</strong> : integer</p>
<blockquote>
<div><p>number of decimal places to consider weights</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>wmedian</strong> : float</p>
<blockquote class="last">
<div><p>weighted median</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">weighted_median</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">W</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="o">.</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># [1, 2, 4, 4, 4, 7, 7, 8, 8, 8]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weighted_median</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
<span class="go">    5.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="mindboggle.utils.compute.weighted_to_repeated_values">
<tt class="descclassname">mindboggle.utils.compute.</tt><tt class="descname">weighted_to_repeated_values</tt><big>(</big><em>X</em>, <em>W=[]</em>, <em>precision=1</em><big>)</big><a class="headerlink" href="#mindboggle.utils.compute.weighted_to_repeated_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of repeated values from weighted values.</p>
<p>This is useful for computing weighted statistics (ex: weighted median).</p>
<dl class="docutils">
<dt>Adapted to allow for fractional weights from</dt>
<dd><dl class="first last docutils">
<dt><a class="reference external" href="http://stackoverflow.com/questions/966896/">http://stackoverflow.com/questions/966896/</a></dt>
<dd>code-golf-shortest-code-to-find-a-weighted-median</dd>
</dl>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>X</strong> : numpy array of floats or integers</p>
<blockquote>
<div><p>values</p>
</div></blockquote>
<p><strong>W</strong> : numpy array of floats or integers</p>
<blockquote>
<div><p>weights</p>
</div></blockquote>
<p><strong>precision</strong> : integer</p>
<blockquote>
<div><p>number of decimal places to consider weights</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>repeat_values</strong> : numpy array of floats or integers</p>
<blockquote class="last">
<div><p>repeated values according to their weight</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mindboggle.utils.compute</span> <span class="kn">import</span> <span class="n">weighted_to_repeated_values</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">W</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span><span class="o">.</span><span class="mi">3</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="o">.</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">weighted_to_repeated_values</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">W</span><span class="p">,</span> <span class="n">precision</span><span class="p">)</span>
<span class="go">    [1, 2, 4, 4, 4, 7, 7, 8, 8, 8]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
<!-- Google Analytics -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-693862-13");
pageTracker._trackPageview();
} catch(err) {}
</script>

  </body>
</html>